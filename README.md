# edgescape
this technically won't be fully open sourced?

```
javascript:void function(){var a=String.fromCharCode;function b(a,b){let d=a,e=b;a.length<b.length%26%26(d=b,e=a);const f=d.length;return 0===f%3F1:(f-c(d,e))/parseFloat(f)}function c(a,b){var c=Math.min;a=a.toLowerCase(),b=b.toLowerCase();const d=[];for(let e,f=0;f<=a.length;f++){e=f;for(let g=0;g<=b.length;g++)if(0===f)d[g]=g;else if(0<g){let h=d[g-1];a[f-1]!==b[g-1]%26%26(h=c(c(h,e),d[g])+1),d[g-1]=e,e=h}0<f%26%26(d[b.length]=e)}return d[b.length]}function d(a,b){const c=a.createElement("div");c.id="confirmation-overlay",c.style.position="fixed",c.style.top="0",c.style.left="0",c.style.width="100%25",c.style.height="100%25",c.style.backgroundColor="rgba(0, 0, 0, 0.75)",c.style.display="flex",c.style.alignItems="center",c.style.justifyContent="center",c.style.zIndex="1000",c.style.transition="opacity 0.5s ease-in-out",c.style.opacity="0",a.body.appendChild(c);const d=a.createElement("div");d.style.backgroundColor="%23fff",d.style.padding="20px",d.style.borderRadius="10px",d.style.textAlign="center",d.innerHTML=`        <p>Check if this was done correctly before we automatically submit.</p>        <button id="done-button">Done Correctly</button>        <button id="not-done-button">Not Done Correctly</button>    `,c.appendChild(d),setTimeout(()=>{c.style.opacity="1"},100),a.querySelector("%23done-button").addEventListener("click",()=>{e(a)}),a.querySelector("%23not-done-button").addEventListener("click",()=>{c.remove(),g(a,b)})}function e(a){const b=a.querySelector("%23submit-button");b%3F(b.click(),console.log("Answers submitted.")):console.log("Submit button not found.")}function f(a){const b=a.createElement("div");b.id="error-overlay",b.style.position="fixed",b.style.top="0",b.style.left="0",b.style.width="100%25",b.style.height="100%25",b.style.backgroundColor="rgba(255, 0, 0, 0.75)",b.style.display="flex",b.style.alignItems="center",b.style.justifyContent="center",b.style.zIndex="1000",b.style.transition="opacity 0.5s ease-in-out",b.style.opacity="0",a.body.appendChild(b);const c=a.createElement("div");c.style.backgroundColor="%23fff",c.style.padding="20px",c.style.borderRadius="10px",c.style.textAlign="center",c.innerHTML=`        <p>We ran into an error, report this and try a Google search. Sorry for the inconvenience!</p>        <button id="okay-button">Okay</button>    `,b.appendChild(c),setTimeout(()=>{b.style.opacity="1"},100),a.querySelector("%23okay-button").addEventListener("click",()=>{b.remove()})}function g(b,c){const d=["A","B","C","D","E","F","G","H"],e=b.querySelector("div.question-container");if(e){const b=e.querySelector(`form[id="form${c}"]`);if(b){const c=b.querySelectorAll(".answer-choice");c.forEach((b,c)=>{const e=d[c]||a(65+c),f=b.innerText;console.log(`${e}. ${f}`)})}}}(function(){const c=document.querySelector("%23stageFrame");if(c)try{function e(){const a=i.querySelector(".plainbtn.alt.icon.yellow.selected");if(a){const b=a.parentElement;console.log("Parent element found:",b);const c=parseInt(b.getAttribute("buttonindex"));if(null!==c){console.log("Question Button Index:",c),null===j%26%26(j=c);const a=i.querySelector("body > div:nth-child(3) > div > div > div.question-container");a%3F(console.log("Question container found."),g(a,c)):console.log("Question container not found.")}else console.log("No 'buttonindex' attribute found on the parent element.")}else console.log("Target element not found.")}function g(a,b){const c=setInterval(()=>{const d=a.querySelector(`form[id="form${b}"]`);if(d){const a=d.querySelector(`%23form${b} > div`);if(a){const d=a.querySelector(`%23form${b} > div > div > div`);d%3F(console.log(`Inner div found inside form${b}.`),clearInterval(c),h(d,b)):console.log("Inner div not found, continuing to check...")}else console.log("Form div not found, continuing to check...")}else console.log("No matching form found, continuing to check...")},1e3)}function h(c,g){const h=c.children;let k="";const l=["A","B","C","D","E","F","G","H"],m=[],n=[];let o=0;for(let b=0;b<h.length;b++){const c=h[b];if(0==b%26%26c.querySelector("p")){const a=c.querySelector("p").innerText;k+=`Question: ${a}\n`}if(1==b%26%26c.querySelector(".answer-choice")){console.log("Answer choice found.");const b=c.querySelectorAll(".answer-choice");b.forEach(b=>{const c=l[o]||a(65+o),d=b.querySelector(".answer-choice-label").innerText;k+=`${c}. ${d}\n`,m.push(d),n.push(b),o++})}}console.log(k);const p=`${k}\nPLEASE PUT THE CORRECT ANSWER IN BOLD AND ONLY THE CORRECT ANSWER AND NOTHING ELSE!!!!`;fetch("http://localhost:3000/process-text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({finalText:p})}).then(a=>{if(!a.ok)throw new Error("Network response was not ok");return a.json()}).then(a=>{var c=Math.floor;console.log("Response from Gemini API:",a.response);const h=a.response,k=h.match(/\*\*(.*%3F)\*\*/);if(k%26%26k[1]){const a=k[1].trim();console.log("Extracted correct answer:",a);const h=a.replace(/^[A-Z]\.\s*/,"").trim();let l=-1,o=0;if(m.forEach((a,c)=>{const d=a.trim(),e=b(h,d);e>o%26%26(o=e,l=c)}),-1!==l){console.log(`Best matching answer: ${m[l]} (similarity: ${o})`);const a=n[l],b=a.parentElement,f=b.querySelector(".QuestionContainer");if(f){const b=a.querySelector("input");if(b){const a=c(2001*Math.random())+1e3;setTimeout(()=>{b.click(),console.log("Clicked the child element inside QuestionContainer.");const a=i.querySelector("%23nextQuestion");if(a){const b=c(1001*Math.random())+1e3;setTimeout(()=>{a.click(),console.log("Clicked the next question button."),g<j%3Fd(i,j):(j=g,e())},b)}else console.log("No next question button found.")},a)}else console.log("No child element found inside QuestionContainer.")}else console.log("No QuestionContainer found within the parent element.")}else console.log("No suitable match found for the correct answer."),f(i)}else console.log("No bold text found in the response."),f(i)}).catch(a=>{console.error("Error sending to proxy server:",a)})}const i=c.contentWindow.document;console.log("Iframe document title:",i.title);let j=null;e()}catch(a){console.error("Unable to access the iframe's document due to cross-origin policy.")}else console.log("Iframe with ID 'stageFrame' not found.")})()}();
```
